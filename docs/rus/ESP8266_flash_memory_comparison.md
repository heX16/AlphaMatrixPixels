# Сравнение моделей ESP8266

## Таблица объёмов Flash-памяти

| Модель | Flash-память | GPIO пинов | Поддержка OTA | Примечания |
|--------|--------------|------------|---------------|------------|
| **ESP-01** | 512 КБ – 1 МБ | 2 (GPIO0, GPIO2) | ❌ 512 КБ<br>✅ 1 МБ | Базовый модуль, минимальная конфигурация |
| **ESP-12E** | 4 МБ | до 11 | ✅ Да | Используется в NodeMCU, расширенные возможности |
| **ESP-12F** | 4 МБ | до 11 | ✅ Да | Улучшенная версия ESP-12E, используется в NodeMCU |

## Требования для OTA (Over-The-Air обновления)

**Минимальные требования:**
- **1 МБ flash-памяти** — минимум для работы OTA
- Модули с **512 КБ не поддерживают OTA** (недостаточно места для двух разделов прошивки)

**Рекомендации:**
- Для простых проектов: **1 МБ** (ESP-01 с версией на 1 МБ)
- Для сложных проектов: **4 МБ** (ESP-12E/F) — позволяет выделить достаточно места для прошивки и файловой системы

**Принцип работы OTA:**
OTA требует два раздела (partitions) в flash-памяти:
- Один раздел для текущей работающей прошивки
- Второй раздел для новой прошивки, которая загружается по Wi-Fi
- После успешной загрузки происходит переключение между разделами

## Как определить размер Flash-памяти программно

Для определения размера flash-памяти на ESP8266 можно использовать встроенные функции:

```cpp
#include <Arduino.h>

void setup() {
  Serial.begin(115200);
  
  // Размер flash из конфигурации SDK
  uint32_t flashChipSize = ESP.getFlashChipSize();
  
  // Реальный размер flash (определяется по ID чипа)
  uint32_t flashChipRealSize = ESP.getFlashChipRealSize();
  
  Serial.print("Flash Size (configured): ");
  Serial.print(flashChipSize / 1024);
  Serial.println(" KB");
  
  Serial.print("Flash Size (real): ");
  Serial.print(flashChipRealSize / 1024);
  Serial.println(" KB");
  
  // Проверка поддержки OTA
  if (flashChipRealSize >= 1024 * 1024) {
    Serial.println("OTA: SUPPORTED");
  } else {
    Serial.println("OTA: NOT SUPPORTED");
  }
}
```

**Полезные функции ESP8266:**
- `ESP.getFlashChipSize()` — размер flash из конфигурации SDK
- `ESP.getFlashChipRealSize()` — реальный размер flash (определяется по ID чипа)
- `ESP.getFlashChipSpeed()` — скорость flash-памяти
- `ESP.getFreeHeap()` — свободная оперативная память (RAM)
- `ESP.getSketchSize()` — размер текущей прошивки
- `ESP.getFreeSketchSpace()` — свободное место для прошивки

## Дополнительная информация

- **ESP-01**: Самый дешёвый вариант, подходит для простых проектов с минимальными требованиями
- **ESP-12E/F**: Используются в платах разработки NodeMCU, имеют встроенный USB-UART конвертер и стабилизатор напряжения
- Объём flash-памяти может варьироваться в зависимости от производителя и конкретной партии
- Рекомендуется проверять технические характеристики конкретного модуля перед использованием
- Используйте `ESP.getFlashChipRealSize()` для точного определения размера flash-памяти
